<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星际测速 - 宽带速度测试工具</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c2e, #1a1a3e);
            color: #e0e0ff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(16, 16, 48, 0.7);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 0 30px rgba(0, 150, 255, 0.2);
            border: 1px solid rgba(64, 156, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00a2ff, #00ffcc);
            box-shadow: 0 0 10px #00a2ff;
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, #00a2ff, #00ffcc);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(0, 162, 255, 0.3);
        }
        
        .subtitle {
            color: #a0a0ff;
            font-size: 1.1rem;
        }
        
        .status-card {
            background: rgba(32, 32, 64, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(64, 156, 255, 0.2);
            box-shadow: 0 0 15px rgba(0, 100, 255, 0.1);
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .status-item {
            text-align: center;
        }
        
        .status-label {
            color: #a0a0ff;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .status-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #00ffcc;
        }
        
        .test-controls {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }
        
        .btn {
            background: linear-gradient(90deg, #0066ff, #00a2ff);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 102, 255, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px rgba(0, 102, 255, 0.6);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn:disabled {
            background: linear-gradient(90deg, #444477, #555588);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .progress-container {
            margin: 2rem 0;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(32, 32, 64, 0.8);
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00a2ff, #00ffcc);
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px #00a2ff;
        }
        
        .test-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .result-card {
            background: rgba(32, 32, 64, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(64, 156, 255, 0.2);
        }
        
        .result-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #a0a0ff;
        }
        
        .result-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #00ffcc;
        }
        
        .result-unit {
            font-size: 1rem;
            color: #a0a0ff;
        }
        
        .nodes-list {
            margin-top: 2rem;
        }
        
        .nodes-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #a0a0ff;
        }
        
        .node-item {
            background: rgba(32, 32, 64, 0.6);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 0.8rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(64, 156, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .node-item:hover {
            border-color: #00a2ff;
            box-shadow: 0 0 10px rgba(0, 162, 255, 0.3);
        }
        
        .node-info {
            display: flex;
            align-items: center;
        }
        
        .node-status {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .node-status.active {
            background: #00ff66;
            box-shadow: 0 0 5px #00ff66;
        }
        
        .node-status.inactive {
            background: #ff3366;
        }
        
        .node-ping {
            color: #a0a0ff;
        }
        
        .scanning-animation {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid #00a2ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 162, 255, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 162, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 162, 255, 0); }
        }
        
        footer {
            margin-top: 2rem;
            text-align: center;
            color: #7070aa;
            font-size: 0.9rem;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 1.5rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .test-results {
                grid-template-columns: 1fr;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>星际测速</h1>
            <p class="subtitle">下一代宽带速度测试工具</p>
        </header>
        
        <div class="status-card">
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-label">运营商</div>
                    <div class="status-value" id="isp">检测中...</div>
                </div>
                <div class="status-item">
                    <div class="status-label">IP地址</div>
                    <div class="status-value" id="ip">192.168.1.1</div>
                </div>
                <div class="status-item">
                    <div class="status-label">最佳节点</div>
                    <div class="status-value" id="best-node">自动匹配中...</div>
                </div>
            </div>
        </div>
        
        <div class="test-controls">
            <button id="start-test" class="btn pulse">开始测速</button>
        </div>
        
        <div class="progress-container">
            <div class="progress-label">
                <span>测试进度</span>
                <span id="progress-percent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <div class="test-results">
            <div class="result-card">
                <div class="result-title">下载速度</div>
                <div class="result-value" id="download-speed">0</div>
                <div class="result-unit">Mbps</div>
            </div>
            <div class="result-card">
                <div class="result-title">上传速度</div>
                <div class="result-value" id="upload-speed">0</div>
                <div class="result-unit">Mbps</div>
            </div>
        </div>
        
        <div class="nodes-list">
            <div class="nodes-title">可用测试节点</div>
            <div id="nodes-container">
                <!-- 节点将通过JS动态生成 -->
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2023 星际测速 | 数据仅供参考，实际速度可能受多种因素影响</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 模拟运营商和节点数据
            const isps = ['中国电信', '中国移动', '中国联通', '教育网'];
            const nodes = [
                { name: '北京电信节点', isp: '中国电信', ping: 15, active: true },
                { name: '上海移动节点', isp: '中国移动', ping: 22, active: true },
                { name: '广州联通节点', isp: '中国联通', ping: 28, active: true },
                { name: '成都电信节点', isp: '中国电信', ping: 45, active: true },
                { name: '武汉教育网节点', isp: '教育网', ping: 38, active: true },
                { name: '西安移动节点', isp: '中国移动', ping: 52, active: true },
                { name: '南京联通节点', isp: '中国联通', ping: 35, active: false }
            ];
            
            // DOM元素
            const ispElement = document.getElementById('isp');
            const ipElement = document.getElementById('ip');
            const bestNodeElement = document.getElementById('best-node');
            const startTestButton = document.getElementById('start-test');
            const progressFill = document.getElementById('progress-fill');
            const progressPercent = document.getElementById('progress-percent');
            const downloadSpeedElement = document.getElementById('download-speed');
            const uploadSpeedElement = document.getElementById('upload-speed');
            const nodesContainer = document.getElementById('nodes-container');
            
            // 初始化
            let currentISP = '';
            let bestNode = '';
            let testInProgress = false;
            
            // 模拟IP和运营商检测
            function detectISPAndIP() {
                // 模拟网络请求延迟
                setTimeout(() => {
                    // 随机选择一个运营商
                    currentISP = isps[Math.floor(Math.random() * isps.length)];
                    ispElement.textContent = currentISP;
                    
                    // 生成随机IP
                    const ip = `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
                    ipElement.textContent = ip;
                    
                    // 匹配最佳节点
                    matchBestNode();
                }, 1000);
            }
            
            // 匹配最佳节点
            function matchBestNode() {
                const availableNodes = nodes.filter(node => node.active && node.isp === currentISP);
                
                if (availableNodes.length > 0) {
                    // 选择延迟最低的节点
                    availableNodes.sort((a, b) => a.ping - b.ping);
                    bestNode = availableNodes[0].name;
                    bestNodeElement.textContent = bestNode;
                } else {
                    // 如果没有匹配的节点，选择延迟最低的可用节点
                    const allAvailableNodes = nodes.filter(node => node.active);
                    if (allAvailableNodes.length > 0) {
                        allAvailableNodes.sort((a, b) => a.ping - b.ping);
                        bestNode = allAvailableNodes[0].name;
                        bestNodeElement.textContent = `${bestNode} (跨网)`;
                    } else {
                        bestNodeElement.textContent = '无可用节点';
                    }
                }
                
                // 渲染节点列表
                renderNodes();
            }
            
            // 渲染节点列表
            function renderNodes() {
                nodesContainer.innerHTML = '';
                
                nodes.forEach(node => {
                    const nodeElement = document.createElement('div');
                    nodeElement.className = 'node-item';
                    
                    const nodeInfo = document.createElement('div');
                    nodeInfo.className = 'node-info';
                    
                    const statusIndicator = document.createElement('div');
                    statusIndicator.className = `node-status ${node.active ? 'active' : 'inactive'}`;
                    
                    const nodeName = document.createElement('span');
                    nodeName.textContent = node.name;
                    
                    const nodePing = document.createElement('span');
                    nodePing.className = 'node-ping';
                    nodePing.textContent = `${node.ping}ms`;
                    
                    nodeInfo.appendChild(statusIndicator);
                    nodeInfo.appendChild(nodeName);
                    
                    nodeElement.appendChild(nodeInfo);
                    nodeElement.appendChild(nodePing);
                    
                    // 高亮最佳节点
                    if (node.name === bestNode) {
                        nodeElement.style.borderColor = '#00ffcc';
                        nodeElement.style.boxShadow = '0 0 10px rgba(0, 255, 204, 0.3)';
                    }
                    
                    nodesContainer.appendChild(nodeElement);
                });
            }
            
            // 开始测速
            function startSpeedTest() {
                if (testInProgress) return;
                
                testInProgress = true;
                startTestButton.disabled = true;
                startTestButton.textContent = '测试中...';
                startTestButton.classList.remove('pulse');
                
                // 重置进度和结果
                progressFill.style.width = '0%';
                progressPercent.textContent = '0%';
                downloadSpeedElement.textContent = '0';
                uploadSpeedElement.textContent = '0';
                
                // 模拟测速过程
                let progress = 0;
                const interval = setInterval(() => {
                    progress += Math.random() * 5;
                    
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(interval);
                        
                        // 测试完成
                        setTimeout(() => {
                            testInProgress = false;
                            startTestButton.disabled = false;
                            startTestButton.textContent = '重新测试';
                            startTestButton.classList.add('pulse');
                        }, 1000);
                    }
                    
                    progressFill.style.width = `${progress}%`;
                    progressPercent.textContent = `${Math.round(progress)}%`;
                    
                    // 更新速度显示
                    if (progress >= 30 && progress < 70) {
                        // 下载测试阶段
                        const downloadSpeed = Math.min(progress * 2, 100 + Math.random() * 200);
                        downloadSpeedElement.textContent = Math.round(downloadSpeed);
                    } else if (progress >= 70) {
                        // 上传测试阶段
                        const uploadSpeed = Math.min((progress - 70) * 6, 30 + Math.random() * 70);
                        uploadSpeedElement.textContent = Math.round(uploadSpeed);
                    }
                }, 200);
            }
            
            // 事件监听
            startTestButton.addEventListener('click', startSpeedTest);
            
            // 初始化
            detectISPAndIP();
        });
    </script>
</body>
</html>
